## set time 
```
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime   #设置时区
date -s "2008-08-08 12:00:00"   #设置系统时钟
hwclock -w                      #设置硬件时钟
```
## NTP
- 同步时间，可以使用ntpdate命令，也可以使用ntpd服务。
- 使用ntpd服务，要好于ntpdate加cron的组合。因为，ntpdate同步时间，会造成时间的跳跃，对一些依赖时间的程序和服务会造成影响。比 如sleep，timer等。而且，ntpd服务可以在修正时间的同时，修正cpu tick。理想的做法为，在开机的时候，使用ntpdate强制同步时间，在其他时候使用ntpd服务来同步时间。
1. ntpdate
```
crontab -e
  */15 * * * * ntpdate 服务器端IP 
```
2. ntp服务方式
```
vim /etc/ntp.conf
  server 192.168.7.49 prefer 
  server 0.rhel.pool.ntp.org iburst
  server 1.rhel.pool.ntp.org iburst
  server 2.rhel.pool.ntp.org iburst
  server 3.rhel.pool.ntp.org iburst
 ```
 
 ```
service ntpd start
chkconfig --list ntpd
chkconfig ntpd on
ntpstat           #看ntp服务器有无和上层ntp连通
ntpq -p           #查看ntp服务器与上层ntp的状态
```
## syslog
### Client 端
```
[root@study ~]# vim /etc/rsyslog.conf
*.*       @@192.168.1.100
#*.*       @192.168.1.100  # 若用 UDP 傳輸，設定要變這樣！

[root@study ~]# systemctl restart rsyslog.service]]
```
### Server 端
1. 修改 rsyslogd 的啟動設定檔，在 /etc/rsyslog.conf 內！
```
[root@study ~]# vim /etc/rsyslog.conf
# 找到底下這幾行：
# Provides UDP syslog reception
#$ModLoad imudp
#$UDPServerRun 514

# Provides TCP syslog reception
#$ModLoad imtcp
#$InputTCPServerRun 514
# 上面的是 UDP 埠口，底下的是 TCP 埠口！如果你的網路狀態很穩定，就用 UDP 即可。
# 不過，如果你想要讓資料比較穩定傳輸，那麼建議使用 TCP 囉！所以修改底下兩行即可！
```
2. 重新啟動與觀察 rsyslogd 喔！
```
[root@study ~]# systemctl restart rsyslog.service
[root@study ~]# netstat -ltnp | grep syslog
Proto Recv-Q Send-Q Local Address  Foreign Address   State    PID/Program name
tcp        0      0 0.0.0.0:514    0.0.0.0:*         LISTEN   2145/rsyslogd
tcp6       0      0 :::514         :::*              LISTEN   2145/rsyslogd
```
### logger
- 如果你需要记录/var/log/myapp.log文件中的信息, 可以使用:
```
logger -f /var/log/myapp.log
```
- logger命令默认的日志保存在 /var/log/messages
- 另一种用法

```
ping 192.168.0.1 | logger -it logger_test -p local3.notice &
命令logger -it logger_test -p local3.notice中的参数含义：
-i 在每行都记录进程ID
-t logger_test 每行记录都加上“logger_test”这个标签
-p local3.notice 设置记录的设备和级别
```

`logger -n IP system reboot for she`
